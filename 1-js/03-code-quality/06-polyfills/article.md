
# Polyfills

زبان جاوااسکریپت پیوسته در حال تکامل است. پیشنهادهایی برای بهتر شدن آن به‌طور منظم صورت می‌گیرد، این پیشنهاد‌ها بررسی می‌شوند و اگر ارزشمند باشند، به لیست <https://tc39.github.io/ecma262/> اضافه می‌شوند و سپس به [specification](http://www.ecma-international.org/publications/standards/Ecma-262.htm) راه می‌یابند.

تیم‌های مسئول موتورهای جاوااسکریپت تصمیم می‌گیرند کدام یک را اول پیاده‌سازی کنند. ممکن است تصمیم بگیرند پیشنهادهایی که هنوز به‌صورت پیش‌نویس هستند را اول پیاده‌سازی کنند و چیزهایی که در spec هستند را به بعدتر موکول کنند. دلیلش هم می‌تواند این باشد که شاید بعضی جذابیت کمتری دارند یا انجام آن‌ها سخت‌تر است.

پس کاملا طبیعی است که یک موتور فقط بخشی از یک استاندارد را پیاده‌سازی کند.

یک صفحه‌ی خوب برای این که ببینید در حال حاضر چه چیزهایی پشتیبانی می‌شود اینجاست <https://kangax.github.io/compat-table/es6/> (خیلی بزرگ است، ما چیزهای زیادی برای مطالعه داریم).

## بابِل

وقتی از ویژگی‌های جدید یک زبان استفاده می‌کنیم، ممکن است برخی موتورها از این کدها پشتیبانی نکنند. همانطور که گفته شد، همه‌ی ویژگی‌ها همه جا پیاده‌سازی نمی‌شوند.

اینجاست که بابل به نجات ما می‌آید.

[بابل](https://babeljs.io) یک [کامپایلر بین زبانی](https://en.wikipedia.org/wiki/Source-to-source_compiler) است. بابل کد جاوااسکریپت مدرن را به استانداردهای قبلی‌اش تبدیل می‌کند.

در بابل دو بخش وجود دارد:

1. اولی برنامه‌ی کامپایلر بین زبانی است که کد را بازنویسی می‌کند. توسعه‌دهنده کد را روی کامپیوتر خودش اجرا می‌کند. و بابل کد را به استاندارد قبلی بازنویسی می‌کند و سپس کد برای مشاهده کاربر به وبسایت تحویل داده می‌شود. سیستم‌های مدرن برای build پروژه‌ها مثل [webpack](http://webpack.github.io/) این امکان را می‌دهند که کامپایلر بین‌زبانی در هر تغییر کد به‌صورت اتوماتیک اجرا شود. و به همین دلیل استفاده از آن‌ها در روند توسعه بسیار ساده است.

2. بخش دوم polyfill است.

    ویژگی‌های جدید یک زبان ممکن است functionهای built-in جدید یا ساختارهای syntax جدید باشند.
    transpiler کد را بازنویسی می‌کند. و ساختارهای syntax جدید را به ساختارهای قدیمی تبدیل می‌کند. ولی functionهای جدید باید پیاده‌سازی شوند. جاوااسکریپت یک زبان داینامیک است. اسکریپت‌ها ممکن است هر functionای را به کد اضافه کنند یا آن را اصلاح کنند تا متناسب با استاندارد مدرن رفتار کنند.

    به اسکریپتی که function جدیدی اضافه می‌کند یا یک function را آپدیت می‌کند، polyfill گفته می‌شود. Polyfill جای خالی پیاده‌سازی را پر می‌کند.

    دو polyfill جالب:
    - [core js](https://github.com/zloirock/core-js) که از چیزهای زیادی پشتیبانی می‌کند و این امکان را می‌دهد که فقط ویژگی‌های مورد نظر را اضافه کنیم.
    - [polyfill.io](http://polyfill.io) سرویسی که یک اسکریپت به‌همراه polyfillها ارائه می‌دهد بسته به مرورگر و ویژگی‌های یک کاربر.

پس اگر می‌خواهیم از ویژگی‌های مدرن یک زبان استفاده کنیم، باید حتما از یک transpiler و از یک polyfill استفاده کنیم.

## Examples in the tutorial


````online
Most examples are runnable at-place, like this:

```js run
alert('Press the "Play" button in the upper-right corner to run');
```

Examples that use modern JS will work only if your browser supports it.
````

```offline
As you're reading the offline version, in PDF examples are not runnable. In EPUB some of them can run.
```

Google Chrome is usually the most up-to-date with language features, good to run bleeding-edge demos without any transpilers, but other modern browsers also work fine.
